<!-- File: dashboard.html -->
<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Dashboard - ARIYAN PROJECT LAB</title><script src="https://cdn.tailwindcss.com"></script><script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script><script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script><script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script></head><body class="bg-gray-100"><nav class="bg-white shadow-md"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class="flex justify-between h-16"><div class="flex items-center"><a href="/" class="text-2xl font-bold text-indigo-600">ARIYAN PROJECT LAB</a></div><div class="hidden md:flex items-center space-x-8" id="navbar-auth"></div></div></div></nav><main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12"><h1 class="text-3xl font-bold mb-6">Welcome back, <span id="user-name">...</span>!</h1><div class="grid grid-cols-1 md:grid-cols-2 gap-8"><div class="bg-white p-6 rounded-lg shadow-md"><h2 class="text-xl font-semibold mb-4">Quick Links</h2><ul class="space-y-2"><li><a href="/my-purchases.html" class="text-indigo-600 hover:underline">My Purchases</a></li><li><a href="/profile.html" class="text-indigo-600 hover:underline">Edit Profile</a></li><li><a href="/products.html" class="text-indigo-600 hover:underline">Browse Products</a></li></ul></div><div class="bg-white p-6 rounded-lg shadow-md"><h2 class="text-xl font-semibold mb-4">Recent Purchases</h2><div id="recent-purchases" class="space-y-3"><p>Loading purchases...</p></div></div></div></main>
<script src="/js/auth.js"></script>
<script>document.addEventListener("DOMContentLoaded",()=>{auth.onAuthStateChanged(e=>{e?(document.getElementById("user-name").textContent=e.displayName||e.email,db.collection("orders").where("userId","==",e.uid).orderBy("orderDate","desc").limit(3).get().then(e=>{const t=document.getElementById("recent-purchases");if(t.innerHTML="",e.empty)return void(t.innerHTML="<p>You have no recent purchases.</p>");e.forEach(e=>{const o=e.data(),n="completed"===o.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800";t.innerHTML+=`
                                    <div class="flex justify-between items-center p-2 border rounded">
                                        <span>${o.productName}</span>
                                        <span class="px-2 py-1 text-xs font-semibold rounded-full ${n}">${o.status}</span>
                                    </div>
                                `})})):window.location.href="/login.html"})});</script>
</body></html>