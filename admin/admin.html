<!-- File: admin/admin.html -->
<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Admin Dashboard</title><script src="https://cdn.tailwindcss.com"></script><script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script><script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script><script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script></head><body class="bg-gray-100"><div class="flex h-screen"><aside class="bg-indigo-800 text-white w-64 p-6 flex-shrink-0"><h1 class="text-2xl font-bold mb-8">Admin Panel</h1><nav class="space-y-2"><a href="admin.html" class="block px-4 py-2 rounded bg-indigo-900">Dashboard</a><a href="admin-products.html" class="block px-4 py-2 rounded hover:bg-indigo-700">Products</a><a href="admin-orders.html" class="block px-4 py-2 rounded hover:bg-indigo-700">Orders</a><button onclick="logout()" class="w-full text-left mt-8 px-4 py-2 rounded bg-red-600 hover:bg-red-700">Logout</button></nav></aside><main class="flex-1 p-8 overflow-auto"><h1 class="text-3xl font-bold mb-8">Dashboard Overview</h1><div class="grid grid-cols-1 md:grid-cols-3 gap-6"><div class="bg-white p-6 rounded-lg shadow-md"><p class="text-gray-500">Total Users</p><h2 id="total-users" class="text-4xl font-bold">0</h2></div><div class="bg-white p-6 rounded-lg shadow-md"><p class="text-gray-500">Total Products</p><h2 id="total-products" class="text-4xl font-bold">0</h2></div><div class="bg-white p-6 rounded-lg shadow-md"><p class="text-gray-500">Pending Orders</p><h2 id="pending-orders" class="text-4xl font-bold">0</h2></div></div></main></div>
<script src="../js/auth.js"></script>
<script>document.addEventListener("DOMContentLoaded",()=>{auth.onAuthStateChanged(async e=>{if(e){if(!(await isAdmin(e)))return alert("You are not authorized."),void(window.location.href="../dashboard.html");db.collection("users").get().then(e=>{document.getElementById("total-users").textContent=e.size}),db.collection("products").get().then(e=>{document.getElementById("total-products").textContent=e.size}),db.collection("orders").where("status","==","pending").get().then(e=>{document.getElementById("pending-orders").textContent=e.size})}else window.location.href="../login.html"})});</script>
</body></html>